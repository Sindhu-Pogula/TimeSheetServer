@model List<TimeSheet.Models.Project>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
</head>
<body>

    <div class="container mt-3">
        <h1>Admin Dashboard</h1>

        <!-- Navigation Bar -->
        <ul class="nav nav-tabs">
            <li class="nav-item">
                <a class="nav-link active" href="@Url.Action("AdminDashboard", "Admin")" id="dashboardLink">Dashboard</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="@Url.Action("UploadCSV", "Project")" target="contentFrame">Upload CSV</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="@Url.Action("Assign", "Assignment")" target="contentFrame">Assign Projects</a>
            </li>
        </ul>

        <!-- Dashboard Content (This is visible by default) -->
        <div id="dashboardContent" class="mt-3">
            <h2>Welcome to the Admin Dashboard</h2>
            <p>Manage your projects and assignments from here.</p>
        </div>

        <!-- Iframe for Other Pages -->
        <iframe name="contentFrame" id="contentFrame" style="width: 100%; height: 500px; border: none; display: none;"></iframe>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const dashboardContent = document.getElementById("dashboardContent");
            const iframe = document.getElementById("contentFrame");
            const dashboardLink = document.getElementById("dashboardLink");

            document.querySelectorAll(".nav-link").forEach(link => {
                link.addEventListener("click", function (event) {
                    if (this.getAttribute("target") === "contentFrame") {
                        event.preventDefault(); // Prevent full page reload
                        iframe.style.display = "block";
                        dashboardContent.style.display = "none";
                        iframe.src = this.href;
                    } else {
                        // If Dashboard is clicked, show dashboard content and hide iframe
                        iframe.style.display = "none";
                        dashboardContent.style.display = "block";
                    }
                });
            });
        });
    </script>

</body>
</html>
